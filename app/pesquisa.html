<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Relatório de Pagamento - Autopark</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h1 { text-align: center; }
    .relatorio { border: 1px solid #000; padding: 20px; margin-top: 20px; }
    .relatorio p { margin: 5px 0; }
    button { display: block; margin: 20px auto; padding: 10px 20px; }
  </style>
</head>
<body>
  <h1>Relatório de Pagamento</h1>
  <div id="relatorio" class="relatorio"></div>
  <button onclick="window.print();">Imprimir Relatório</button>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const relatorio = JSON.parse(localStorage.getItem('relatorioPagamento'));

      if (!relatorio) {
        document.getElementById('relatorio').innerHTML = '<p>Nenhum dado de pagamento encontrado.</p>';
        return;
      }

      document.getElementById('relatorio').innerHTML = `
        <p><strong>Placa do Veículo:</strong> ${relatorio.placaVeiculo}</p>
        <p><strong>Entrada:</strong> ${relatorio.entrada}</p>
        <p><strong>Saída:</strong> ${relatorio.saida}</p>
        <p><strong>Tarifa por Hora:</strong> R$ ${relatorio.tarifa}</p>
        <p><strong>Tolerância:</strong> ${relatorio.tolerancia} minutos</p>
        <p><strong>Valor a Pagar:</strong> R$ ${relatorio.valorPagamento.toFixed(2)}</p>
        <p><strong>Método de Pagamento:</strong> ${getMetodoPagamentoTexto(relatorio.metodoPagamento)}</p>
        ${relatorio.metodoPagamento === 'credito' || relatorio.metodoPagamento === 'debito' ? `
          <p><strong>Número do Cartão:</strong> ${relatorio.numeroCartao}</p>
          <p><strong>Nome do Titular:</strong> ${relatorio.nomeTitular}</p>
          <p><strong>Validade:</strong> ${relatorio.validadeCartao}</p>
          <p><strong>CVV:</strong> ${relatorio.cvvCartao}</p>
        ` : ''}
      `;
    });

    function getMetodoPagamentoTexto(metodo) {
      switch (metodo) {
        case 'dinheiro':
          return 'Dinheiro';
        case 'credito':
          return 'Cartão de Crédito';
        case 'debito':
          return 'Cartão de Débito';
        case 'pix':
          return 'PIX';
        default:
          return 'Não especificado';
      }
    }
  </script>
</body>
</html>
